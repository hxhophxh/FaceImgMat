# 🚀 FaceImgMat 超级离线部署包

## 📦 适用场景

本部署包适用于**完全没有任何依赖环境**的全新机器：
- ❌ 没有安装 Python
- ❌ 没有安装 Git
- ❌ 没有网络连接
- ✅ 只需要 Windows 10/11 或 Windows Server 操作系统

---

## 🎯 两步快速部署

### 步骤1️⃣：准备离线包（有网络的机器）

```bat
双击运行：准备超级离线包.bat
```

**自动下载：**
- ✅ Python 3.12 安装程序（~26MB）
- ✅ 所有 Python 依赖包（~200MB）
- ✅ InsightFace AI 模型（~500MB）
- ✅ 项目源码

**预计时间：** 15-25 分钟（取决于网速）  
**下载大小：** 约 2GB

### 步骤2️⃣：一键部署（目标机器）

```bat
双击运行：一键完整部署.bat
```

**自动完成：**
1. ✅ 检测并安装 Python 3.12
2. ✅ 创建虚拟环境
3. ✅ 安装所有依赖包（离线）
4. ✅ 配置 InsightFace 模型
5. ✅ 初始化数据库
6. ✅ 启动人脸识别服务
7. ✅ 自动打开浏览器

**预计时间：** 15-25 分钟（无需网络）

---

## 📂 目录结构

```
super-offline-deployment/
│
├── 00-使用说明/
│   └── 快速开始.txt                 ← 快速入门指南
│
├── 01-Python安装包/
│   └── python-3.12.x-amd64.exe     ← Python 安装程序
│
├── 02-项目源码/
│   └── FaceImgMat/                 ← 完整项目代码
│
├── 03-Python依赖包/
│   └── *.whl                       ← 所有依赖包（离线安装）
│
├── 04-AI模型文件/
│   └── insightface_models/         ← InsightFace 模型
│
├── prepare-super-package.ps1       ← 准备脚本（PowerShell）
├── prepare-super-offline.bat       ← 准备脚本（启动器）
├── 准备超级离线包.bat               ← 准备脚本（中文版）
├── 一键完整部署.bat                 ← 部署脚本
├── 卸载清理.bat                     ← 卸载脚本
└── README.md                       ← 本文档
```


---

## ⏱️ 时间和空间估算

### 准备离线包（步骤1）
| 项目 | 大小/时间 |
|------|----------|
| Python 安装程序 | ~26MB |
| Python 依赖包 | ~200MB |
| InsightFace 模型 | ~500MB |
| **总下载大小** | **约 2GB** |
| **预计时间** | **15-25 分钟** |

### 部署到目标机器（步骤2）
| 项目 | 时间 |
|------|------|
| 安装 Python | 2-5 分钟 |
| 创建虚拟环境 | 1 分钟 |
| 安装依赖包 | 5-10 分钟 |
| 配置模型 | 2-3 分钟 |
| 初始化数据库 | 1 分钟 |
| **总计时间** | **15-25 分钟** |

---


## 📋 系统要求

### 必需条件
- ✅ Windows 10 (1909+) / Windows 11 / Windows Server 2016+
- ✅ 64位操作系统
- ✅ 5GB+ 可用磁盘空间
- ✅ 2GB+ 可用内存

### 不需要的
- ❌ 不需要网络连接（部署时）
- ❌ 不需要预装 Python
- ❌ 不需要预装 Git
- ❌ 不需要管理员权限（推荐有，但不强制）

---

## 🔐 默认登录信息

部署完成后访问：`http://127.0.0.1:5000`

```
账号: admin
密码: Admin@FaceMatch2025!
```

⚠️ **重要：首次登录后立即修改密码！**

---


## ❓ 常见问题

**Q: 机器完全没装过 Python 可以用吗？**  
A: 可以！这就是本方案的目的，会自动安装 Python。

**Q: 部署时需要网络吗？**  
A: 不需要！所有依赖都在离线包中。准备离线包时需要网络。

**Q: 需要管理员权限吗？**  
A: 推荐有管理员权限，但如果没有，脚本会尝试当前用户安装。

**Q: 可以安装在 D 盘或其他盘吗？**  
A: 可以！将整个文件夹复制到任意位置运行即可。

**Q: 如何卸载？**  
A: 运行 `卸载清理.bat` 会清理所有安装的内容。

**Q: 部署失败了怎么办？**  
A: 运行 `卸载清理.bat` 清理环境，然后重新运行 `一键完整部署.bat`。

**Q: 可以在多台机器上使用吗？**  
A: 可以！复制整个文件夹到多台机器，分别运行即可。

---

## 📦 开发者：如何制作此离线包

在有网络的开发机器上执行：

```powershell
# 1. 克隆项目
git clone https://github.com/hxhophxh/FaceImgMat.git
cd FaceImgMat\super-offline-deployment

# 2. 运行准备脚本
.\prepare-super-offline.bat
# 或
.\准备超级离线包.bat

# 3. 等待完成（15-25分钟）

# 4. 打包整个 super-offline-deployment 文件夹
# 压缩后约 1.5-2GB，可分发给用户
```

---

## 🆘 获取帮助

- 📖 详细文档: [DEPLOYMENT-GUIDE.md](./DEPLOYMENT-GUIDE.md)
- 🐛 问题反馈: [GitHub Issues](https://github.com/hxhophxh/FaceImgMat/issues)

---

## 📝 版本信息

- **版本**: v2.1 - 超级离线部署版（精简版）
- **更新日期**: 2025-10-13
- **Python版本**: 3.12.7
- **支持系统**: Windows 10/11, Windows Server 2016+

---

**祝您部署顺利！** 🎉

