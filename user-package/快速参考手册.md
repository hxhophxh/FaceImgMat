# 🎭 FaceImgMat 人脸识别系统 - 用户包快速参考

> **适用于**: Windows 10/11 全新机器  
> **特点**: 无需预装Python、Git等任何软件  
> **版本**: v2.0 (2025-10-12)

---

## ⚠️ 重要提示

本 `user-package` 目录是**轻量级用户包**（仅约10MB），只包含文档和参考资料。

**实际部署请使用** `super-offline-deployment` **目录！**

---

## 🚀 完整部署流程（两步）

### 📍 操作位置：super-offline-deployment 目录

### ✅ 第1步：准备完整离线包（需要网络）

```bash
# 在有网络的机器上执行
cd super-offline-deployment
双击运行 → 准备超级离线包.bat
```

**说明：**
- ⏱️ 耗时：15-25 分钟
- 📦 下载：约 2GB
  - Python 3.12.7 安装包（~26MB）
  - 100+ 个 Python 依赖包（~200MB）
  - InsightFace AI 模型（~500MB）
  - 项目源码复制
- 💡 下载完成后会自动提示

---

### ✅ 第2步：一键部署系统（可离线）

```bash
# 在 super-offline-deployment 目录
双击运行 → 一键完整部署.bat
```

**说明：**
- ⏱️ 耗时：15-20 分钟
- 🚀 自动完成：
  - 安装 Python 3.12.7
  - 创建虚拟环境
  - 安装所有依赖包
  - 配置 AI 模型
  - 初始化数据库
  - 启动 Web 服务
- ✅ 完成后浏览器自动打开

---

### ✅ 第3步：访问系统

部署完成后，浏览器会自动打开：

```
🔗 地址: http://127.0.0.1:5000

👤 账号: admin
🔑 密码: Admin@FaceMatch2025!
```

⚠️ **重要**: 首次登录后请立即修改密码！

---

## � 目录结构说明

### user-package/ （当前目录 - 轻量级）
```
user-package/
├── 开始阅读.txt           ← 快速开始指南
├── 快速参考手册.md        ← 本文件
├── 详细使用手册.txt       ← 详细操作说明
└── 00-管理员文档/         ← 管理员参考资料
```

### super-offline-deployment/ ⭐（实际使用目录）
```
super-offline-deployment/
├── 00-使用说明/           ← 详细使用文档
│   ├── 如何获取依赖文件.md
│   ├── 快速开始.txt
│   └── GitHub提交总结.md
│
├── 01-Python安装包/       ← Python 安装程序（准备后）
├── 02-项目源码/           ← 项目完整代码（准备后）
├── 03-Python依赖包/       ← 所有依赖包（准备后）
├── 04-AI模型文件/         ← AI 模型文件（准备后）
│
├── 准备超级离线包.bat     ⭐ 第1步运行
├── 一键完整部署.bat       ⭐ 第2步运行
├── 仅部署项目.bat
├── 卸载清理.bat
├── README-USER.md         ← 用户使用指南
└── 用户使用说明.txt       ← 详细操作手册
```

---

## ⏱️ 时间和空间要求

### 时间说明

| 步骤 | 时间 | 说明 |
|------|------|------|
| **第1步：准备离线包** | 15-25分钟 | 需要网络，下载约2GB |
| 　- 下载Python安装包 | 1-2分钟 | 26MB |
| 　- 下载Python依赖包 | 8-12分钟 | ~200MB, 100+个包 |
| 　- 下载AI模型 | 5-10分钟 | ~500MB |
| 　- 复制项目源码 | 1分钟 | ~10MB |
| **第2步：一键部署** | 15-20分钟 | 可离线 |
| 　- 安装Python | 2-5分钟 | 自动 |
| 　- 创建虚拟环境 | 1分钟 | 自动 |
| 　- 安装依赖包 | 5-10分钟 | 自动 |
| 　- 配置AI模型 | 2-3分钟 | 自动 |
| 　- 初始化数据库 | 1分钟 | 自动 |
| 　- 启动服务 | 1分钟 | 自动 |
| **总计** | **30-45分钟** | 全自动，无需干预 |

### 空间要求

- 准备阶段：约 5GB（存储下载的文件）
- 部署后：约 3.5GB
- 推荐：至少 10GB 可用磁盘空间

---

## ❓ 常见问题

### Q1: 我应该从哪个目录开始？

**A:** 从 `super-offline-deployment` 目录开始，不是 `user-package` 目录。

### Q2: 我应该运行哪个文件？

**A:** 看您的情况：

- **有网络 + 首次使用**: 
  1. `准备超级离线包.bat` （下载依赖）
  2. `一键完整部署.bat` （部署系统）
  
- **已有完整离线包**: 
  - `一键完整部署.bat` （直接部署）
  
- **已安装 Python 3.11/3.12**: 
  - `仅部署项目.bat` （跳过Python安装）

### Q3: 准备脚本下载什么？

**A:** 准备脚本会自动下载：
- Python 3.12.7 安装程序（~26MB）
- 100+ 个 Python 依赖包（~200MB）
- InsightFace AI 模型文件（~500MB）
- 复制项目源码到指定位置

### Q4: 可以在多台机器使用吗？

**A:** 可以！准备一次，多次使用：
1. 在有网的机器运行「准备超级离线包.bat」
2. 压缩整个 `super-offline-deployment` 目录
3. 传输到其他机器（U盘/内网）
4. 解压后运行「一键完整部署.bat」

### Q: 浏览器没有自动打开？

**A:** 手动打开浏览器访问：`http://127.0.0.1:5000`

### Q: 部署失败了怎么办？

**A:** 检查：
- [ ] 是否以管理员身份运行？
- [ ] 是否有足够磁盘空间（5GB+）？
- [ ] 杀毒软件是否拦截？
- [ ] 端口5000是否被占用？

### Q: 如何卸载？

**A:** 双击运行 `卸载清理.bat`，按提示操作

### Q: 忘记密码了？

**A:** 
```cmd
cd 02-项目源码\FaceImgMat
.venv\Scripts\activate
python scripts/update_password_now.py
```

### Q: 可以在多台电脑上用吗？

**A:** 可以！复制整个文件夹到其他电脑，重新运行部署脚本即可

---

## 📊 系统要求

### 最低配置

- **系统**: Windows 10 或 Windows 11
- **内存**: 2GB（推荐4GB+）
- **磁盘**: 5GB可用空间
- **CPU**: 双核处理器

### 推荐配置

- **系统**: Windows 11
- **内存**: 4GB+
- **磁盘**: 10GB+
- **CPU**: 四核或更好

---

## 🔧 部署后操作

### 启动服务

```cmd
# 方式1: 双击运行
02-项目源码\FaceImgMat\start.bat

# 方式2: 命令行
cd 02-项目源码\FaceImgMat
.venv\Scripts\activate
python run.py
```

### 修改密码

```cmd
cd 02-项目源码\FaceImgMat
.venv\Scripts\activate
python scripts/change_admin_password.py
```

### 查看日志

```cmd
# 日志文件位置
02-项目源码\FaceImgMat\logs\
```

---

## 📚 更多文档

- 📖 **详细图文指南**: `用户使用说明.txt`
- 📖 **完整技术文档**: `完整说明.md`
- 📖 **使用指南**: `使用指南.md`

---

## 🆘 获取帮助

如遇问题，请联系技术支持并提供：

1. Windows版本
2. 错误截图
3. 失败的步骤
4. 网络情况

**GitHub**: https://github.com/hxhophxh/FaceImgMat  
**Issues**: https://github.com/hxhophxh/FaceImgMat/issues

---

## ⚖️ 许可证

MIT License © 2025

---

**祝您使用愉快！** 🎉

有问题随时联系我们！
